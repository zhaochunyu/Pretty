<html>

<head>
<title>pretty更新记录</title>
</head>

<body bgcolor="Ivory">
	<h1>Pretty使用说明</h1>
	<p style="color: RoyalBlue   ">在使用过程中，如遇无法处理的问题， 请及时与 配置管理员 或 赵椿玉 联系。也可提交BUG到<a href="http://a.yeepay.com/jforum/posts/list/250.page" style="text-decoration: none">论坛</a>。 </p>
	
	<hr />
	A、 登陆：
	<a href="http://a.yeepay.com" style="text-decoration: none">测试工程部首页</a>

	<ol>
		<li>系统只允许一人登录，其他人将排队等候</li>
		<li>每次登录，均需要退出，才能释放系统。退出请保证QA系统正常</li>		
		<li>登录超时，当前用户可再次登录，其他用户等待。</li>
	</ol>

	<hr />
	B、 QA更新：
	<p>操作：</p>
	<ol>
		<li>输入OA单流水号，点击查询按钮；如输入多个OA单流水号，以英文格式分号“;”隔开。</li>
		<li>点击编译按钮，如果提示文件不一致，查看系统日志，查看需部署的文件与编译文件是否一致，是否漏题或重复提交；</li>
		<li>点击更新按钮；等待更新完成，最长约10分钟。</li>
		<li>更新全部成功后，更新次数累加。</li>
	</ol>
	<p>注意：</p>
	<ol>
		<li>项目负责人同意上线签字后不可再更新，测试人员可以收回，清空签字信息。</li>
		<li>更新功能：包括更新、替换、重启机器、自动化测试、切换</li>
		<li>重启哪些机器来源于OA上线单勾选哪些服务器，请确保开发勾选正确。</li>
		<li>确保OA清单路径正确并符合清单规范，否则无法正确编译。</li>
	</ol>
	<hr />
	C 、系统日志：
	<p>说明：可查看当时成功整个编译、更新、替换、重启、测试、切换的过程</p>

	<p>注意：<a href="http://172.17.103.151:1331/log/log.log" style="text-decoration: none">http://172.17.103.151:1331/log/log.log</a> 可以直接,访问系统日志</p>
	<hr />
	D、 终端日志：
	<p>查看重启机器过程中的日志信息</p>
	<p>注意：<a href="http://172.17.103.151:1331/readlog" style="text-decoration: none">http://172.17.103.151:1331/readlog</a> 可以直接,访问系统日志。</p>
	<hr />
	E、更新记录：
	<p>说明：未上线清单的更新信息。</p>
	<hr />
	F、 回滚：
	<p>说明： 当天编译备份的全部文件，以日期命名</p>
	<p>点击回滚按钮进入回滚界面，选择要回滚的时间，回滚的时间是编译的时间，点击回滚按钮。回滚操作包括，重新分发、重启、冒烟测试、切换</p>
	<p>注意： 每次编译都会有备份，是按时间命名存放到文件夹下，该页面只显示当天的备份数据，回滚要慎重且正确操作</p>
	<hr />	
    G、 重启：
	<p>说明： 重启指定服务器</p>
	<p>帮助——重启服务器 ，重启操作包括、重启、冒烟测试、切换</p>
	<p>注意： 双机应用对外机器不允许启动，单机可任意启动，</p>
	<p>注意： 重启必须等待系统返回，不允许重复提交。否则会导致无法对外。</p>
	<hr />	
	H、如遇特殊操作先找配置人员进行操作。
	<hr />
	<h2>清单规范</h2> 
	 <li> 1、清单命名规则：YYYY-MM-DD_姓名_需求描述.txt</li>
	
 <p>例如：2014-01-07_刘春雷_EPOS商户短信模板.txt</p>

  <li>2、QA更新时，清单里面要有“#update”的标签，此时只会更新该标签以下的文件哦 </li>

<p>例如：</p>
<code>
<p>#update</p>

<p>/YP2G_Core/src/java/com/yeepay/core/service/sms/SmsSendPayThread.java</p>
</code>
  <li>3、凡是YP2G_Test的文件清单里都要注释掉，前面加#</li>

<p>例如：#/YP2G_Test/webapps/app-test.war/nocardpay/debitnocardXmlSinglePay.htm</p>

 <li>4、systemCfg.properties为特殊操作，上qa和生产都是手动操作，但不能注释掉，将修改内容写到清单中，书写格式如下：</li>
<code>
<p>/YP2G_CommonUtility/src/java/springContext/systemCfg.properties</p>

<p>#QA</p>

<p>#hotelhost=http://172.17.106.62</p>

<p>#WWW</p>

<p>#hotelhost=https://hotel.yeepay.com</p>

 </code>

 <li>说明几点：</li>

<p>1、如遇特殊操作还是找部署管理组进行；</p>

<p>2、QA更新次数自动进行统计累加；</p>

<p>3、已经同意上线的不允许进行更新；</p>


	

	<hr />
</body>
<hr />
<footer class="footer">
	<div class="container" align="center">
		<p class="text-muted">
			易宝支付测试环境更新平台 <a href="mailto:chunyu.zhao@yeepay.com">chunyu.zhao
			</a>
		</p>
	</div>
</footer>
</html>

